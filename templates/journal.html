<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #A9B388; /* Laurel Green */
            color: #5F6F52; /* Dark Olive Green */
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            width: 80%;
            height: 90%;
            display: flex;
            justify-content: center;
            position: relative;
        }
        .line {
            position: absolute;
            top: -20px;
            bottom: 20px;
            left: 48%;
            width: 80px;
            background-color: #5F6F52; /* Dark Olive Green */
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è */
        }
        .content-wrapper {
            display: flex;
            justify-content: space-between;
            width: 100%;
            position: relative;
        }
        .left-content, .right-content {
            background-color: #F9EBC7; /* Lemon Meringue */
            padding: 20px;
            margin: 0 20px;
            border-radius: 10px;
            width: 48%; /* 48% —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
            height: 90%;
            overflow-y: auto;
        }
        h2, h3 {
            color: #5F6F52; /* Dark Olive Green */
        }
        .entry-list {
            list-style-type: none;
            padding: 0;
        }
        .entry-list li {
            background-color: #FFFFFF;
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .buttons a {
            background-color: #C4661F; /* Alloy Orange */
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin-right: 10px;
        }
        .buttons a:hover {
            background-color: #783D19; /* Russet */
        }
        .calendar {
            margin-top: 30px;
            background-color: #B99470; /* Camel */
            padding: 20px;
            border-radius: 10px;
        }
        .italic-text {
            font-style: italic;
            font-size: 1.2em;
            margin-top: 10px;
        }
        .smileys {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        .smiley {
            font-size: 6em; /* –£–≤–µ–ª–∏—á–∏–ª–∏ —Ä–∞–∑–º–µ—Ä —Å–º–∞–π–ª–∏–∫–æ–≤ */
            cursor: pointer;
        }
        .time-cards {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .card {
            width: 45%;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        .card span {
            font-size: 4em; /* –†–∞–∑–º–µ—Ä —Å–º–∞–π–ª–∏–∫–∞ */
            margin-bottom: 10px;
        }
        .card h4 {
            margin: 10px 0;
        }
        .active {
            background-color: #e8f4e8;
            border: 2px solid #5F6F52; /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
        }
                }
        .calendar {
            margin-top: 30px;
            background-color: #B99470; /* Camel */
            padding: 20px;
            border-radius: 10px;
            width: 100%;
        }
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .calendar-body {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        .day {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #FFF;
            cursor: pointer;
        }
        .day:hover {
            background-color: #e0e0e0;
        }
        .day span {
            font-size: 14px;
        }
        .day .plus {
            font-size: 18px;
            cursor: pointer;
        }

        .note-section {
        margin-top: 30px;
        background-color: #FEFAE0; /* –¶–≤–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ */
        padding: 20px;
        border-radius: 10px;
        width: 95%;
    }

    .note-section textarea {
        width: 95%;
        height: 120px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
        padding: 10px;
        resize: vertical;
    }

    .note-section button {
        background-color: #5F6F52;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        margin-top: 10px;
        cursor: pointer;
    }

    .note-section button:hover {
        background-color: #4b5b44;
    }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞ —Ñ–æ–Ω–µ */
        #editModal .modal-content {
            margin-top: 10%;
        }

        /* –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        #editModal.open {
            display: flex;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div class="container">
        <!-- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ -->
        <div class="line"></div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ -->
        <div class="content-wrapper">
            <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
            <div class="left-content">
                <div class="header">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ª–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫, {{ current_user.username }}!</h2>
                        <div class="buttons">
                            <a href="{{ url_for('logout') }}">–í—ã–π—Ç–∏</a>
                        </div>
                    <!-- –ö—É—Ä—Å–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º -->
                    <div class="italic-text">–ö–∞–∫ –ø—Ä–æ—à–µ–ª –≤–∞—à –¥–µ–Ω—å?</div>

                    <!-- –ú–µ—Å—Ç–∞ –¥–ª—è —Å–º–∞–π–ª–∏–∫–æ–≤ -->
                    <div class="smileys">
                        <span class="smiley" title="–£–∂–∞—Å–Ω–æ" onclick="setMood('üòû')">üòû</span>
                        <span class="smiley" title="–ü–ª–æ—Ö–æ" onclick="setMood('üòï')">üòï</span>
                        <span class="smiley" title="–ù–æ—Ä–º–∞–ª—å–Ω–æ" onclick="setMood('üòê')">üòê</span>
                        <span class="smiley" title="–•–æ—Ä–æ—à–æ" onclick="setMood('üôÇ')">üôÇ</span>
                        <span class="smiley" title="–û—Ç–ª–∏—á–Ω–æ" onclick="setMood('üòä')">üòä</span>
                    </div>

                    <div class="time-cards">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ -->
                        <div class="card" id="morning" onclick="selectCard('morning')">
                            <span id="morning-img">üåÖ</span>
                            <h4>–£—Ç—Ä–æ</h4>
                            <p>–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</p>
                        </div>
                        <div class="card" id="afternoon" onclick="selectCard('afternoon')">
                            <span id="afternoon-img">üåû</span>
                            <h4>–î–µ–Ω—å</h4>
                            <p>–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</p>
                        </div>
                    </div>
                    <div class="time-cards">
                        <div class="card" id="evening" onclick="selectCard('evening')">
                            <span id="evening-img">üåá</span>
                            <h4>–í–µ—á–µ—Ä</h4>
                            <p>–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</p>
                        </div>
                        <div class="card" id="night" onclick="selectCard('night')">
                            <span id="night-img">üåô</span>
                            <h4>–ù–æ—á—å</h4>
                            <p>–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</p>
                        </div>
                    </div>
                </div>

            <h2>–í–∞—à–∏ –∑–∞–ø–∏—Å–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:</h2>
<ul>
    {% for entry in entries %}
        <li>
            <strong>–î–∞—Ç–∞:</strong> {{ entry.date }} <br>
            <strong>–£—Ç—Ä–æ:</strong> {{ entry.morning_mood }} <br>
            <strong>–î–µ–Ω—å:</strong> {{ entry.afternoon_mood }} <br>
            <strong>–í–µ—á–µ—Ä:</strong> {{ entry.evening_mood }} <br>
            <strong>–ù–æ—á—å:</strong> {{ entry.night_mood }} <br>
            <strong>–ó–∞–º–µ—Ç–∫–∞:</strong> {{ entry.note }} <br>

            <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <button onclick="editEntry({{ entry.id }}, '{{ entry.morning_mood }}', '{{ entry.afternoon_mood }}', '{{ entry.evening_mood }}', '{{ entry.night_mood }}', '{{ entry.note }}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        </li>
    {% else %}
        <p>–°–µ–≥–æ–¥–Ω—è —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.</p>
    {% endfor %}
</ul>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="editModal" style="display:none;">
    <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h3>
    <form id="editForm" method="POST" action="{{ url_for('edit_entry') }}">
        <input type="hidden" id="entry_id" name="entry_id">

        <label for="morning_mood">–£—Ç—Ä–æ:</label>
        <select id="morning_mood" name="morning_mood">
            <option value="üòä">üòä –û—Ç–ª–∏—á–Ω–æ</option>
            <option value="üôÇ">üôÇ –•–æ—Ä–æ—à–æ</option>
            <option value="üòê">üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="üòï">üòï –ü–ª–æ—Ö–æ</option>
            <option value="üòû">üòû –£–∂–∞—Å–Ω–æ</option>
        </select><br>

        <label for="afternoon_mood">–î–µ–Ω—å:</label>
        <select id="afternoon_mood" name="afternoon_mood">
            <option value="üòä">üòä –û—Ç–ª–∏—á–Ω–æ</option>
            <option value="üôÇ">üôÇ –•–æ—Ä–æ—à–æ</option>
            <option value="üòê">üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="üòï">üòï –ü–ª–æ—Ö–æ</option>
            <option value="üòû">üòû –£–∂–∞—Å–Ω–æ</option>
        </select><br>

        <label for="evening_mood">–í–µ—á–µ—Ä:</label>
        <select id="evening_mood" name="evening_mood">
            <option value="üòä">üòä –û—Ç–ª–∏—á–Ω–æ</option>
            <option value="üôÇ">üôÇ –•–æ—Ä–æ—à–æ</option>
            <option value="üòê">üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="üòï">üòï –ü–ª–æ—Ö–æ</option>
            <option value="üòû">üòû –£–∂–∞—Å–Ω–æ</option>
        </select><br>

        <label for="night_mood">–ù–æ—á—å:</label>
        <select id="night_mood" name="night_mood">
            <option value="üòä">üòä –û—Ç–ª–∏—á–Ω–æ</option>
            <option value="üôÇ">üôÇ –•–æ—Ä–æ—à–æ</option>
            <option value="üòê">üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="üòï">üòï –ü–ª–æ—Ö–æ</option>
            <option value="üòû">üòû –£–∂–∞—Å–Ω–æ</option>
        </select><br>

        <label for="note">–ó–∞–º–µ—Ç–∫–∞:</label>
        <textarea id="note" name="note"></textarea><br>

        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        <button type="button" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
    </form>
</div>


        <h3>–ì—Ä–∞—Ñ–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π</h3>
            <div class="filters">
    <!--<h3>–§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é</h3>-->
    <form action="{{ url_for('journal') }}" method="GET">
        <!-- –ü–æ–ª–µ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã -->
         <!--<label for="date">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É:</label>
        <input type="date" id="date" name="date" value="{{ selected_date }}">

       –ü–æ–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
        <label for="mood">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:</label>
        <select id="mood" name="mood">
            <option value="">–í—Å–µ</option>
            <option value="üòä" {% if selected_mood == 'üòä' %}selected{% endif %}>–û—Ç–ª–∏—á–Ω–æ</option>
            <option value="üôÇ" {% if selected_mood == 'üôÇ' %}selected{% endif %}>–•–æ—Ä–æ—à–æ</option>
            <option value="üòê" {% if selected_mood == 'üòê' %}selected{% endif %}>–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="üòï" {% if selected_mood == 'üòï' %}selected{% endif %}>–ü–ª–æ—Ö–æ</option>
            <option value="üòû" {% if selected_mood == 'üòû' %}selected{% endif %}>–£–∂–∞—Å–Ω–æ</option>
        </select>-->

        <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã -->
        <!--<button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>-->
    </form>
            </div>
         <canvas id="moodChart"></canvas>
            </div>

<!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å -->
<div class="right-content">

    <div class="calendar">

        <div class="calendar-header">
            <button onclick="changeMonth(-1)">&#8249;</button>
            <span id="month-year"></span>
            <button onclick="changeMonth(1)">&#8250;</button>
        </div>
        <div class="calendar-body">
            <div class="day">–ü–Ω</div>
            <div class="day">–í—Ç</div>
            <div class="day">–°—Ä</div>
            <div class="day">–ß—Ç</div>
            <div class="day">–ü—Ç</div>
            <div class="day">–°–±</div>
            <div class="day">–í—Å</div>
            <!-- –î–Ω–∏ –º–µ—Å—è—Ü–∞ –±—É–¥—É—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é JS -->
        </div>
    </div>

    <div class="note-section">
        <h3>–í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏:</h3>
        <textarea name="note" rows="6" cols="40" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É..." style="background-color: #FEFAE0;"></textarea>
        <br>
        <button onclick="saveNote()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
    </div>


</div>

<script>
    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
    let currentDate = new Date();
    let selectedCard = null;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
    function renderCalendar() {
        const monthYear = document.getElementById('month-year');
        const calendarBody = document.querySelector('.calendar-body');
        const month = currentDate.getMonth();
        const year = currentDate.getFullYear();
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const totalDays = lastDay.getDate();
        const firstDayOfWeek = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1; //
        const totalSlots = Math.ceil((totalDays + firstDayOfWeek) / 7) * 7;

        // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Å—è—Ü–∞ –∏ –≥–æ–¥–∞
        monthYear.textContent = `${firstDay.toLocaleString('default', { month: 'long' })} ${year}`;

        calendarBody.innerHTML = ''; // Clear calendar
        for (let i = 0; i < totalSlots; i++) {
            const dayCell = document.createElement('div');
            dayCell.classList.add('day');

            const dayNumber = i - firstDayOfWeek + 1;
            if (dayNumber > 0 && dayNumber <= totalDays) {
                dayCell.textContent = dayNumber;
                const plusButton = document.createElement('span');
                plusButton.classList.add('plus');
                plusButton.textContent = '+';
                dayCell.appendChild(plusButton);
                dayCell.addEventListener('click', () => goToDayPage(dayNumber));
            } else {
                dayCell.textContent = '';
            }
            calendarBody.appendChild(dayCell);
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –¥–Ω–µ–º
    function goToDayPage(dayNumber) {
        // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π URL
         window.location.href = `/day?day=${dayNumber}`;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã –º–µ—Å—è—Ü–∞
    function changeMonth(direction) {
        currentDate.setMonth(currentDate.getMonth() + direction);
        renderCalendar();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
    function selectCard(cardId) {
        // –°–Ω–∏–º–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏
        if (selectedCard) {
            document.getElementById(selectedCard).classList.remove('active');
        }

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É
        selectedCard = cardId;
        document.getElementById(cardId).classList.add('active');
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
    function setMood(mood) {
        if (selectedCard) {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–º–∞–π–ª–∏–∫ –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É
            document.getElementById(selectedCard + '-img').textContent = mood;
        } else {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫');
        }
    }

    // Initial render
    renderCalendar();


// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
var moodData = {{ mood_data | tojson }};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
function updateChart() {
    var ctx = document.getElementById('moodChart').getContext('2d');
    var moodChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['üòä - –û—Ç–ª–∏—á–Ω–æ', 'üôÇ - –•–æ—Ä–æ—à–æ', 'üòê - –ù–æ—Ä–º–∞–ª—å–Ω–æ', 'üòï - –ü–ª–æ—Ö–æ', 'üòû - –£–∂–∞—Å–Ω–æ'], // –≠–º–æ—Ü–∏–∏ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
            datasets: [{
                label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞ –¥–µ–Ω—å',
                data: [
                    moodData['üòä'].morning + moodData['üòä'].afternoon + moodData['üòä'].evening + moodData['üòä'].night,
                    moodData['üôÇ'].morning + moodData['üôÇ'].afternoon + moodData['üôÇ'].evening + moodData['üôÇ'].night,
                    moodData['üòê'].morning + moodData['üòê'].afternoon + moodData['üòê'].evening + moodData['üòê'].night,
                    moodData['üòï'].morning + moodData['üòï'].afternoon + moodData['üòï'].evening + moodData['üòï'].night,
                    moodData['üòû'].morning + moodData['üòû'].afternoon + moodData['üòû'].evening + moodData['üòû'].night
                ],
                backgroundColor: [
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(255, 99, 132, 0.2)'
                ],
                borderColor: [
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    title: {
                        display: true,
                        text: '–≠–º–æ—Ü–∏–∏'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞ –¥–µ–Ω—å'
                    },
                    beginAtZero: true
                }
            }
        }
    });
}

// –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
updateChart();


     function editEntry(id, morning_mood, afternoon_mood, evening_mood, night_mood, note) {
        document.getElementById('entry_id').value = id;
        document.getElementById('morning_mood').value = morning_mood;
        document.getElementById('afternoon_mood').value = afternoon_mood;
        document.getElementById('evening_mood').value = evening_mood;
        document.getElementById('night_mood').value = night_mood;
        document.getElementById('note').value = note;
        document.getElementById('editModal').style.display = 'block';
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeModal() {
        document.getElementById('editModal').style.display = 'none';
    }
</script>


</body>
</html>
